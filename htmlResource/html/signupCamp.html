<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="default.css">
    <link rel="stylesheet" type="text/css" href="styleSignup.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase.js"></script>
    <title>Camp51.9 Kiosk</title>
</head>
<body>
    <header>
        <img src="camp.png" width="150" height="150"
        alt="No Image"><br>
        <h2><strong>Camp51.9</strong></h2>
    </header>

    <section>
        <article>
            <form name="fo" method="get" >
            ID : <input type="text" placeholder = "아이디를 입력하세요" id = "userid" autocomplete="off" required><br>
            Name : <input type="text" placeholder = "이름을 입력하세요" id = "username" autocomplete="off" required><br>
            Phone : <input type="text" placeholder = "전화번호를 입력하세요" id = "userph" autocomplete="off" required><br>
            e-mail : <input type="text" placeholder = "이메일을 입력하세요" id = "usermail" autocomplete="off" required><br>
            Affiliation : <input type="text" placeholder = "소속을 입력하세요" id = "useraff" autocomplete="off" required><br>
            <select name="job" id="selectJob">
                <option value="">직업선택</option>
                <option value="학생">학생</option>
                <option value="교사">교사</option>
                <option value="스태프">스태프</option>
                <option value="기타">기타</option>
            </select>

            <h3 class="click" id="signinButton">Sign up</h3>
            
        </article>
        <div class="popup" id="pop">
          <h2><span id="write"></span> 님으로<br>이용하시겠습니까?</h2>

            <div class="txt_center">
              <a href="loginCamp.html" class="btn_type1">캠프 이용하기</a>
            </div>
              <a href="#a" class="close">닫기</a>
            </div>
            <div class="dim"></div> 
    </section>
</form>
</body>
    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      var firebaseConfig = {
      apiKey: "AIzaSyC5_G3RZhRjxLyh27AmjTNXX2ul1uMF9OI",
      authDomain: "test-90278.firebaseapp.com",
      projectId: "test-90278",
      storageBucket: "test-90278.appspot.com",
      messagingSenderId: "315329074324",
      appId: "1:315329074324:web:3bfb0adda43868a8975081",
      measurementId: "G-96ZE5HQBEJ"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
   
    </script>

    <script type="text/javascript">
   var alert_select_value = function (select_obj){
            var selected_index = select_obj.selectedIndex;
            var userjob = select_obj.options[selected_index].value;
            alert(selected_value);
        };

    var signinButton = document.getElementById("signinButton") // 버튼을 만들고.
    signinButton.addEventListener('click', signinFunc) // 'click'이란 id의 버튼을 누르면 signinFunc 함수를 실행.

    function signinFunc () {
      var userid = document.getElementById("userid").value;
      var username = document.getElementById("username").value; // userid 의 값을 받아와 넣음.
      var userph = document.getElementById("userph").value; // userpw 의 값을 받아와 넣음.
      var usermail = document.getElementById("usermail").value;
      var useraff = document.getElementById("useraff").value;
      var userjob = document.getElementById("selectJob").value;
      
      if(userid != "" && userph != "" && username != "" && usermail != "" && useraff != "" && userjob != "") {
         $(".popup").show();
         $(".dim").show();
         document.getElementById("write").innerHTML=userid;
         var dbRefObject = firebase.database().ref('Login/'+userid + '/' + userid).set({"ID": userid});
         var dbRefObject1 = firebase.database().ref('Login/'+ userid + '/' + userid + 1).set({"name": username});
         var dbRefObject2 = firebase.database().ref('Login/'+ userid  + '/' + userid + 2).set({"phone": userph});
         var dbRefObject3 = firebase.database().ref('Login/'+ userid + '/' + userid + 3).set({"mail": usermail});
         var dbRefObject4 = firebase.database().ref('Login/'+ userid + '/' + userid + 4).set({"affiliation": useraff});
         var dbRefObject5 = firebase.database().ref('Login/'+ userid + '/' + userid + 5).set({"job": userjob});
         
      } else {
        alert("공란을 모두 채워주세요.");
      }
    }
    $(".popup .close").on('click',function(){
          $(this).parent().hide();
          $(".dim").hide();
        });
    </script>

    

</html>